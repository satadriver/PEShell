# PEShell

本程序是一个windows 32/64位加壳的例子，带有内存加载执行功能。

只能支持windows程序和console程序加壳，不支持dll加壳。

原理：
将被加壳程序压缩加密，放进peunshell.exe生成的PE文件中，被当作新插入一个段"lpdata"，peunshell运行时解密、解压缩该段，将文件释放出来、或者内存加载。

内存加载的主要工作是导入表函数导入、函数以及变量的重定位功能。

加壳实现在peshell.exe工程中，主要是对被加密程序的压缩加密，并被当作peunshell中新建一个ldata段写入。

测试中发现只能运行一些小程序，比如几百kb、几MB的程序，大一些程序存在兼容问题，可能运行不起来。
